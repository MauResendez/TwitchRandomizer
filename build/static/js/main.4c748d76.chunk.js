(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{106:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(11),r=a.n(c),s=(a(97),a(16)),i=(a(98),a(23)),l=a(12),o=a(194),u=a(201),j=a(186),b=a(189),d=a(151),h=(a(99),a(3));var m=function(){return Object(h.jsx)("div",{children:Object(h.jsx)(j.a,{position:"static",className:"appBar",children:Object(h.jsx)(b.a,{children:Object(h.jsx)(i.b,{to:{pathname:"/"},children:Object(h.jsx)(d.a,{variant:"h6",children:"Twitch Randomizer"})})})})})},g=a(14),O=a(203),p=a(197),x=a(193),v=a(192),f=a(190),S=a(202),w=a(205),I=a(191);a(106);function y(){return Object(h.jsxs)(d.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(h.jsx)(f.a,{color:"inherit",href:"https://material-ui.com/",children:"Twitch Randomizer"})," ",(new Date).getFullYear()]})}var N=Object(I.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)}}}));var k=function(){var e=N(),t=Object(n.useState)(""),a=Object(g.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(""),i=Object(g.a)(s,2),u=i[0],j=i[1],b=Object(n.useState)("Select..."),m=Object(g.a)(b,2),f=m[0],I=m[1],k=Object(n.useState)(!1),F=Object(g.a)(k,2),E=F[0],C=F[1],J=Object(n.useState)(!1),T=Object(g.a)(J,2),B=T[0],W=T[1];Object(n.useEffect)((function(){localStorage.clear()}),[]),Object(n.useEffect)((function(){localStorage.setItem("game",c),localStorage.setItem("viewers",u),localStorage.setItem("language",f)}),[c,u,f]);var M=function(e){e.preventDefault(),c&&""===u&&j(9999999),"Select..."===f&&I(null),c&&C(!0)};return Object(h.jsxs)(v.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"85vh"},children:[E&&Object(h.jsx)(l.a,{push:!0,to:{pathname:"/stream",state:{game:c,viewers:u,language:f}}}),B&&Object(h.jsx)(l.a,{push:!0,to:{pathname:"/results",state:{game:c,viewers:u,language:f}}}),Object(h.jsxs)(x.a,{component:"main",maxWidth:"xs",center:!0,children:[Object(h.jsx)(o.a,{}),Object(h.jsxs)("div",{className:e.paper,children:[Object(h.jsx)(d.a,{component:"h1",variant:"h5",children:"Twitch Randomizer"}),Object(h.jsxs)("form",{className:e.form,onSubmit:M,children:[Object(h.jsx)(w.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"game",label:"Game",name:"game",onChange:function(e){return r(e.target.value)},autoFocus:!0}),Object(h.jsx)(w.a,{variant:"outlined",type:"number",margin:"normal",InputProps:{inputProps:{min:"10",max:"9999999"}},fullWidth:!0,id:"viewers",label:"Max Number of Viewers (Minimum: 10)",name:"viewers",value:u,onChange:function(e){return j(e.target.value)},onBlur:function(e){e.target.value<10&&""!==e.target.value?j(10):e.target.value>9999999&&""!==e.target.value?j(9999999):e.target.value>=10&&""!==e.target.value?j(e.target.value):(e.target.value="",j(""))}}),Object(h.jsx)("div",{id:"select",children:Object(h.jsxs)(S.a,{native:!0,variant:"outlined",margin:"normal",fullWidth:!0,id:"language",label:"Language",name:"language",onChange:function(e){return I(e.target.value)},children:[Object(h.jsx)("option",{value:"Select...",children:"Select..."}),Object(h.jsx)("option",{value:"en",children:"English"}),Object(h.jsx)("option",{value:"es",children:"Espa\xf1ol (Spanish)"}),Object(h.jsx)("option",{value:"fr",children:"Fran\xe7ais (French)"}),Object(h.jsx)("option",{value:"de",children:"Deutsch (German)"}),Object(h.jsx)("option",{value:"ja",children:"\u65e5\u672c\u8a9e (Japanese)"}),Object(h.jsx)("option",{value:"it",children:"Italiano (Italian)"}),Object(h.jsx)("option",{value:"pt",children:"Portugu\xeas (Portuguese)"}),Object(h.jsx)("option",{value:"ru",children:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439 (Russian)"}),Object(h.jsx)("option",{value:"nl",children:"Nederlands (Dutch)"}),Object(h.jsx)("option",{value:"tr",children:"T\xfcrk\xe7e (Turkish)"})]})}),Object(h.jsxs)("div",{id:"inputButtons",children:[Object(h.jsx)(p.a,{type:"submit",onClick:M,halfWidth:!0,variant:"contained",color:"primary",className:"submit",children:"Find A Random Stream"}),Object(h.jsx)(p.a,{onClick:function(e){e.preventDefault(),c&&""===u&&j(9999999),"Select..."===f&&I(null),c&&(localStorage.setItem("game",c),localStorage.setItem("viewers",u),localStorage.setItem("language",f),W(!0))},halfWidth:!0,variant:"contained",color:"primary",className:"submit",children:"View Results"})]})]})]}),Object(h.jsx)(O.a,{mt:8,children:Object(h.jsx)(y,{})})]})]})},F=a(41),E=a.n(F),C=a(53),J=a(46),T=a.n(J),B=a(54),W=a.n(B),M=a(76),P=a.n(M);a(145);var R=function(e){var t=Object(n.useState)(localStorage.getItem("game")),a=Object(g.a)(t,2),c=a[0],r=(a[1],Object(n.useState)(localStorage.getItem("viewers"))),l=Object(g.a)(r,2),o=l[0],u=(l[1],Object(n.useState)(localStorage.getItem("language"))),j=Object(g.a)(u,2),b=j[0],d=(j[1],Object(n.useState)(localStorage.getItem("channel"))),m=Object(g.a)(d,2),O=m[0],x=m[1],v=Object(n.useState)({stream:null,loading:!0,error:null}),f=Object(g.a)(v,2),S=f[0],w=S.stream,I=S.loading,y=S.error,N=f[1];return Object(n.useEffect)((function(){I&&function(){var e=Object(C.a)(E.a.mark((function e(t,a,n){var c,r,i,l,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!O){e.next=5;break}N(Object(s.a)({stream:O,loading:!1},y)),e.next=25;break;case 5:if(null!==localStorage.getItem("results")&&localStorage.getItem("results")!==[]){e.next=14;break}return e.next=8,T.a.get("/api/results/game=".concat(t,"&viewers=").concat(a,"&language=").concat(n));case 8:c=e.sent,r=Math.floor(Math.random()*c.data.length),localStorage.setItem("results",JSON.stringify(c.data)),N(Object(s.a)({stream:JSON.parse(localStorage.getItem("results"))[r].user_login,loading:!1},y)),e.next=25;break;case 14:l=!1;case 15:if(!1!==l){e.next=24;break}return i=Math.floor(Math.random()*JSON.parse(localStorage.getItem("results")).length),o=JSON.parse(localStorage.getItem("results")),e.next=20,T.a.get("/api/stream/streamer=".concat(o[i].user_login,"&game=").concat(t));case 20:!1===(l=e.sent)&&(console.log("False"),o.splice(i,1),localStorage.setItem("results",JSON.stringify(o))),e.next=15;break;case 24:N(Object(s.a)({stream:JSON.parse(localStorage.getItem("results"))[i].user_login,loading:!1},y));case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),N(Object(s.a)(Object(s.a)({},w),{},{loading:!1,error:e.t0}));case 30:case 31:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(t,a,n){return e.apply(this,arguments)}}()(c,o,b)}),[w,I,y]),Object(h.jsxs)("div",{children:[I&&Object(h.jsx)("div",{id:"streamLoader",children:Object(h.jsx)(W.a,{type:"Puff",color:"#00BFFF",height:100,width:100})}),!I&&w&&Object(h.jsx)("div",{id:"stream",children:Object(h.jsx)(P.a,{autoFocus:!0,autoplay:!0,channel:w,layout:"video-with-chat",width:"940",height:"480",onPlay:function(){},onReady:function(){},theme:"dark"})}),!w&&!I&&Object(h.jsx)("div",{id:"streamError",children:Object(h.jsx)("h1",{children:"Error: No stream found"})}),!I&&Object(h.jsxs)("div",{id:"streamButtons",children:[Object(h.jsx)(i.b,{to:{pathname:"/stream"},onClick:function(){localStorage.removeItem("channel"),x(null),window.location.reload()},children:Object(h.jsx)(p.a,{type:"button",halfWidth:!0,variant:"contained",color:"primary",className:"submit",children:"Find Another Stream"})}),Object(h.jsx)(i.b,{to:{pathname:"/"},children:Object(h.jsx)(p.a,{type:"button",halfWidth:!0,variant:"contained",color:"primary",className:"submit",children:"Home"})})]})]})},_=a(200),D=a(198),z=a(199),A=a(204);a(146);var L=function(e){var t=Object(n.useState)(localStorage.getItem("game")),a=Object(g.a)(t,2),c=a[0],r=(a[1],Object(n.useState)(localStorage.getItem("viewers"))),l=Object(g.a)(r,2),o=l[0],u=(l[1],Object(n.useState)(localStorage.getItem("language"))),j=Object(g.a)(u,2),b=j[0],d=(j[1],Object(n.useState)({results:[],loading:!0,error:null})),m=Object(g.a)(d,2),O=m[0],p=O.results,v=O.loading,f=O.error,S=m[1],w=Object(n.useState)([]),I=Object(g.a)(w,2),y=(I[0],I[1]),N=Object(n.useState)(1),k=Object(g.a)(N,2),F=k[0],J=k[1],B=50*(F-1),M=Math.ceil(p.length/50),P=p.slice(B,B+50).map((function(e){return Object(h.jsxs)(D.a,{component:i.b,to:{pathname:"/stream"},onClick:function(){return localStorage.setItem("channel",e.user_login)},children:[Object(h.jsx)("img",{src:e.thumbnail_url,alt:"Thumbnail"}),Object(h.jsx)(z.a,{title:e.title,subtitle:Object(h.jsxs)("span",{children:[e.user_name," (",e.viewer_count," viewers)"]})})]})}));return Object(n.useEffect)((function(){localStorage.removeItem("channel"),v&&function(){var e=Object(C.a)(E.a.mark((function e(t,a){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("/api/results/game=".concat(t,"&viewers=").concat(a,"&language=").concat(b));case 3:n=e.sent,S(Object(s.a)({results:n.data,loading:!1},f)),y(n.data.slice(B,B+50)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),S(Object(s.a)(Object(s.a)({},p),{},{loading:!1,error:e.t0}));case 11:case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()(c,o)}),[]),Object(h.jsxs)("div",{children:[v&&Object(h.jsx)("div",{id:"resultsLoader",children:Object(h.jsx)(W.a,{type:"Puff",color:"#00BFFF",height:100,width:100})}),0===p.length&&!v&&Object(h.jsx)("div",{id:"resultsError",children:Object(h.jsx)("h1",{children:"Error: No results found"})}),0!==p.length&&!v&&Object(h.jsxs)(x.a,{style:{paddingTop:"50px",paddingBottom:"50px"},children:[Object(h.jsx)(_.a,{container:!0,cols:5,children:P}),Object(h.jsx)("div",{className:"pagination",children:Object(h.jsx)(A.a,{count:M,page:F,onChange:function(e,t){J(t)}})})]})]})},G=a(77);var H=function(e){var t=e.component,a=Object(G.a)(e,["component"]),n=localStorage.getItem("game");return Object(h.jsx)(l.b,Object(s.a)(Object(s.a)({},a),{},{render:function(e){return""!==n?Object(h.jsx)(t,Object(s.a)({},e)):Object(h.jsx)(l.a,{to:{pathname:"/",state:{from:e.location}}})}}))};a(147);var V=function(){return Object(h.jsx)("div",{id:"NotFound",children:Object(h.jsx)("h1",{children:"404 - Not Found!"})})};var q=function(){return Object(h.jsx)(u.a,{children:Object(h.jsx)(o.a,{style:{height:"100vh"},children:Object(h.jsx)("div",{className:"App",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)(i.a,{children:[Object(h.jsx)(m,{}),Object(h.jsxs)(l.d,{children:[Object(h.jsx)(l.b,{exact:!0,path:"/",component:k}),Object(h.jsx)(H,{exact:!0,path:"/stream",component:function(e){return Object(h.jsx)(R,Object(s.a)({},e))}}),Object(h.jsx)(H,{exact:!0,path:"/results",component:function(e){return Object(h.jsx)(L,Object(s.a)({},e))}}),Object(h.jsx)(l.b,{component:V})]})]})})})})})};r.a.render(Object(h.jsx)(q,{}),document.getElementById("root"))},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[148,1,2]]]);
//# sourceMappingURL=main.4c748d76.chunk.js.map